<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
<script>
  function aa(){
    const url = '/test';
    return fetch(url,
    {
        method: "get",
        // body:
        //     JSON.stringify(
        //     {
        //         title: "foo",
        //         body: "bar",
        //         userId: 1
        //     }),
        headers: {"Content-type": "application/json; charset=UTF-8"}
    })
    .then(response => response.json() )
  }

  async function ass(){
    const aa1 = await aa();
  }
  ass();
  //.then(json => console.log(json));

  /////////////////////////////////////////////////////////////////

const fruitBasket = {
  apple: 27, 
  grape: 0,
  pear: 14 
}

  const sleep = ms => {
  return new Promise(resolve => setTimeout(resolve, ms))
}

const getNumFruit = async fruit => {

  //return sleep(1000).then(v => fruitBasket[fruit])
  //return 27;
  return new Promise((resolve, reject)=> resolve(28));
}

//getNumFruit('apple')
  //.then(num => console.log(num)) // 27

  const control = async _ => {
  console.log('Start')
 console.log( getNumFruit('apple'));

  const numApples = await getNumFruit('apple')
  console.log(numApples)

  const numGrapes = await getNumFruit('grape')
  console.log(numGrapes)

  const numPears = await getNumFruit('pear')
  console.log(numPears)

  console.log('End')
}

//control();
////////////////////////////////////////////////////
const objs = [
      {
        id:1,
        name : '홍길동',
        age : 20,
        addr : '송파구'
      },
      {
        id:2,
        name : '최병찬',
        age : 29,
        addr : '송파구'
      },
      {
        id:3,
        name : '김진수',
        age : 26,
        addr : '동작구'
      },
    ];
    function qq(){
      const b = objs.map(n=>n);
      console.log(b);
    }

    function qqa(){
      const b = objs.map(async n=>n);
      b[0].then(n=>console.log(n));
    }

    async function arar(){
      const b = objs.map(async n=>n);
      //console.log(b);
      return b[2];
    }
    async function ss(){
      await control();
       qq();
       qqa(); /* just for fun */
       console.log(await arar()); /* just for fun */
    }
    ss();
    ///////////////////////////////////////////////////////

    let t = new Array();

    t = objs.map(n=>n);
    t.forEach(n=>console.log(n.id))
    const p = t.filter(n=>n.id==1);
    p.forEach(n=>console.log(n));
    //////////////////////////////////////////////////////
    async function arst(){
      return objs.map(n=>n);
    }
    async function qwfp(){
      console.clear();
      console.log(await arst());
    }
    qwfp()
</script>
</body>
</html>